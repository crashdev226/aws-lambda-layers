version: '3.7'

services:
  # We don't need to start these services. It is used to create intermediate
  # images used to install PHP and extensions.
  php74-base:
    image: bref/${ARCHITECTURE}-php74-base
    build:
      context: ..
      dockerfile: runtime/docker/${ARCHITECTURE}-php74-base.Dockerfile

  php74-ext-default:
    image: bref/${ARCHITECTURE}-php74-ext-default
    build:
      context: ..
      dockerfile: runtime/docker/ext-${ARCHITECTURE}/ext.default.Dockerfile
      args:
        - PHP_VERSION=php74